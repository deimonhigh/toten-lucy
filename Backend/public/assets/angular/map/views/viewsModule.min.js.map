{"version":3,"sources":["views/Controllers/loginController.js","views/Controllers/homeController.js","views/Controllers/carrinhoController.js","views/Controllers/fotoController.js","views/Controllers/cadastroController.js"],"names":["angular","loginController","$scope","$rootScope","apiService","$state","root","login","dados","token","then","res","email","user","setStorage","config","alert","getStorage","post","result","configGeral","send","id","tema","temaSalvar","banner","produto_id","listaPreco","cor","empresa","$broadcast","go","err","module","controller","$inject","homeController","carrinhoController","$timeout","vm","totalProdutosFrete","totalProdutos","cep","show","listaCompras","calcTotal","reduce","previousValue","obj","preco","qnt","copy","removerItem","item","filter","filtro","codigobarras","calcTotalItem","length","minus","helperCarrinho","more","carrinho","map","push","limparCarrinho","delStorage","itensCarrinho","calcularFrete","local","uf","localidade","parseInt","peso","carry","next","parseFloat","getFrete","valor","prazo","fotoController","hideButtonComprovante","_video","bandeiras","descricao","comprovanteBase","bandeira","codigo","comprovantes","removeItem","$$hashKey","addComprovante","closeModal","foto","confirmFoto","okFoto","notOkFoto","patOpts","x","y","w","h","channel","onError","console","log","onSuccess","video","$apply","width","height","makeSnapshot","patCanvas","document","querySelector","ctxPat","getContext","idata","getVideoData","putImageData","imgResponse","toDataURL","hiddenCanvas","createElement","ctx","drawImage","getImageData","cadastroController","latinizeService","$filter","enviarParaSalvar","documento","nome","telefone","celular","enderecos","enderecoCerto","sexo","outro","estados","cidadesEstados","sigla","$watch","nVal","procuraCidades","cidades","cidade","latinize","toUpperCase","procuraCidadesOutro","cidadesOutro","$on","cidadeTemp","temp","cidadeTempOutro","tempOutro","procurarCliente","cpf","procurar","numero","endereco","bairro","enderecooriginal","salvarDados","enviar","endereco1","enderecoOriginal","endereco2","limpaEndereco","limpaOutroEndereco","procuraCep","logradouro","procuraOutroCep","produtosController","$stateParams","categoria","maxParcelas","temaStorage","max_parcelas","menuActive","loading","categorias","produtoActive","produtos","categoriasItem","itensDoFiltro","codigocategoria","itens","precopromocao","comJuros","toFixed","produtoController","produtosRelacionados","produto","temasItem","get","imagemGrande","imagens","semJuros","parcela0","produtocodigo","codigoproduto","error","selectColor","cores","selected","changeImg","addCarrinho","pagamentoController","dadosVendedor","formaPagamento","editarPagamentoFlag","cliente","formaPagamentoStorage","comprovante","frete","totalCarrinho","totalCarrinhoFrete","idPedido","nr","n","str","Array","String","join","replace","validarVendedor","identificacao","senha","openFoto","limparSessao","editarPagamento","total","auth","idcliente","totalSemJuros","img","parcelas","aVista","comJurosAVista","listaPagamentos","index","i","pagamento","categoriaController"],"mappings":"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","file":"../../views/viewsModule.min.js","sourcesContent":["(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('loginController', loginController);\r\n\r\n  loginController.$inject = ['$scope', '$rootScope', 'apiService', '$state'];\r\n\r\n  function loginController($scope, $rootScope, apiService, $state) {\r\n    var vm = $scope;\r\n    var root = $rootScope;\r\n\r\n    vm.login = function (dados) {\r\n      apiService\r\n        .token(dados)\r\n        .then(function (res) {\r\n          res.email = dados.user;\r\n          apiService.setStorage('auth', res);\r\n          config(dados.user);\r\n        }, function () {\r\n          alert('Usuário ou senha inválidos.')\r\n        });\r\n    };\r\n\r\n    var config = function (email) {\r\n      if (!apiService.getStorage('auth')) {\r\n        config();\r\n        return;\r\n      }\r\n\r\n      var dados = {\r\n        \"email\": email\r\n      };\r\n\r\n      apiService\r\n        .post('config', dados)\r\n        .then(function (res) {\r\n          apiService.setStorage('tema', res.result);\r\n          configGeral();\r\n        }, function () {\r\n          configGeral();\r\n        });\r\n    };\r\n    var configGeral = function () {\r\n      var send = {\r\n        id: 1\r\n      };\r\n\r\n      apiService\r\n        .post('config', send)\r\n        .then(function (res) {\r\n          var tema = apiService.getStorage('tema');\r\n          if (!tema) {\r\n            tema = {};\r\n          }\r\n\r\n          var temaSalvar = res.result;\r\n          temaSalvar.banner = tema ? tema.banner : null;\r\n          temaSalvar.produto_id = tema ? tema.produto_id : null;\r\n          temaSalvar.listaPreco = tema ? tema.listaPreco : null;\r\n          temaSalvar.cor = tema ? tema.cor : null;\r\n          temaSalvar.empresa = tema ? tema.empresa : null;\r\n\r\n          apiService.setStorage('tema', temaSalvar);\r\n          root.$broadcast('temaLoaded');\r\n          $state.go('home');\r\n        }, function (err) {\r\n        });\r\n\r\n    };\r\n  }\r\n\r\n})\r\n(angular);","(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('homeController', homeController);\r\n\r\n  homeController.$inject = [];\r\n\r\n  function homeController() {\r\n\r\n  }\r\n\r\n})\r\n(angular);","(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('carrinhoController', carrinhoController);\r\n\r\n  carrinhoController.$inject = ['$scope', '$rootScope', 'apiService', '$timeout'];\r\n\r\n  function carrinhoController($scope, $rootScope, apiService, $timeout) {\r\n    var vm = $scope;\r\n    var root = $rootScope;\r\n\r\n    vm.totalProdutosFrete = 0;\r\n    vm.totalProdutos = 0;\r\n    vm.cep = \"\";\r\n\r\n    vm.result = {\r\n      \"show\": false\r\n    };\r\n\r\n    vm.listaCompras = apiService.getStorage('carrinho') || [];\r\n\r\n    //region Carrinho\r\n    var calcTotal = function () {\r\n      vm.totalProdutos = vm.listaCompras.reduce(function (previousValue, obj) {\r\n        return previousValue + (obj.preco * obj.qnt);\r\n      }, 0);\r\n\r\n      if (vm.result.show) {\r\n        vm.totalProdutosFrete = angular.copy(vm.totalProdutos);\r\n        vm.result.show = false;\r\n      } else {\r\n        vm.totalProdutosFrete = angular.copy(vm.totalProdutos);\r\n      }\r\n\r\n    };\r\n\r\n    vm.removerItem = function (item) {\r\n      vm.listaCompras = vm.listaCompras.filter(function (filtro) {\r\n        return filtro.codigobarras != item.codigobarras;\r\n      });\r\n\r\n      apiService.setStorage('carrinho', vm.listaCompras);\r\n\r\n      calcTotal();\r\n    };\r\n\r\n    vm.calcTotalItem = function (item) {\r\n      if (item.qnt.length === 0 || item.qnt === 0) {\r\n        item.qnt = 0;\r\n\r\n        vm.removerItem(item)\r\n      }\r\n\r\n      calcTotal();\r\n    };\r\n\r\n    vm.minus = function (item) {\r\n      if (item.qnt - 1 < 0) {\r\n        item.qnt = 0;\r\n      } else {\r\n        item.qnt -= 1;\r\n      }\r\n\r\n      if (item.qnt == 0) {\r\n        $timeout(function () { vm.removerItem(item); });\r\n      }\r\n\r\n      helperCarrinho(item, item.qnt);\r\n\r\n      calcTotal();\r\n    };\r\n\r\n    vm.more = function (item) {\r\n      item.qnt += 1;\r\n      helperCarrinho(item, item.qnt);\r\n      calcTotal();\r\n    };\r\n\r\n    var helperCarrinho = function (item, qnt) {\r\n      var exist = vm.listaCompras.filter(function (obj) {\r\n        return obj.codigobarras == item.codigobarras;\r\n      });\r\n\r\n      if (exist.length > 0) {\r\n        vm.carrinho = vm.listaCompras.map(function (obj) {\r\n          if (obj.codigobarras) {\r\n            obj.qnt = qnt;\r\n          }\r\n          return obj;\r\n        });\r\n        apiService.setStorage('carrinho', vm.listaCompras);\r\n      } else {\r\n        item.qnt = qnt;\r\n        vm.listaCompras.push(item);\r\n        apiService.setStorage('carrinho', vm.listaCompras);\r\n      }\r\n    };\r\n\r\n    vm.limparCarrinho = function () {\r\n      apiService.delStorage('carrinho');\r\n      root.itensCarrinho = 0;\r\n      vm.listaCompras = [];\r\n      calcTotal();\r\n    };\r\n    //endregion\r\n\r\n    vm.calcularFrete = function () {\r\n      apiService.cep(vm.cep).then(function (res) {\r\n        vm.result.local = res.uf + ' - ' + res.localidade;\r\n\r\n        var dados = {\r\n          \"cep\": parseInt(vm.cep),\r\n          \"peso\": vm.listaCompras.reduce(function (carry, next) {\r\n            return carry + parseFloat(next.peso);\r\n          }, 0)\r\n        };\r\n\r\n        getFrete(dados);\r\n      }, function () {\r\n        alert('CEP não encontrado em nossa base.');\r\n      });\r\n    };\r\n\r\n    var getFrete = function (dados) {\r\n      apiService\r\n        .post('frete', dados)\r\n        .then(function (res) {\r\n          vm.result.valor = res.result.valor;\r\n          vm.result.prazo = res.result.prazo;\r\n          vm.result.show = true;\r\n\r\n          vm.totalProdutosFrete = angular.copy(vm.totalProdutos) + parseFloat(res.result.valor);\r\n        }, function () {\r\n          alert('CEP não encontrado em nossa base.');\r\n        });\r\n    };\r\n\r\n    calcTotal();\r\n  }\r\n\r\n})\r\n(angular);","(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('fotoController', fotoController);\r\n\r\n  fotoController.$inject = ['$scope', '$rootScope', 'apiService'];\r\n\r\n  function fotoController($scope, $rootScope, apiService) {\r\n    var vm = $scope;\r\n    var root = $rootScope;\r\n\r\n    vm.hideButtonComprovante = false;\r\n\r\n    var _video = null;\r\n\r\n    vm.bandeiras = [\r\n      {\r\n        \"id\": \"Visa\",\r\n        \"descricao\": \"Visa\"\r\n      },\r\n      {\r\n        \"id\": \"Mastercard\",\r\n        \"descricao\": \"Mastercard\"\r\n      },\r\n      {\r\n        \"id\": \"Hipercard\",\r\n        \"descricao\": \"Hipercard\"\r\n      },\r\n      {\r\n        \"id\": \"American Express\",\r\n        \"descricao\": \"American Express\"\r\n      },\r\n      {\r\n        \"id\": \"Diners\",\r\n        \"descricao\": \"Diners\"\r\n      },\r\n      {\r\n        \"id\": \"Elo\",\r\n        \"descricao\": \"Elo\"\r\n      }\r\n    ];\r\n\r\n    var comprovanteBase = {\r\n      \"bandeira\": null,\r\n      \"codigo\": null\r\n    };\r\n\r\n    vm.comprovantes = [\r\n      angular.copy(comprovanteBase)\r\n    ];\r\n\r\n    vm.removeItem = function (item) {\r\n      vm.comprovantes = vm.comprovantes.filter(function (obj) {\r\n        return obj.$$hashKey != item.$$hashKey;\r\n      });\r\n      vm.hideButtonComprovante = vm.comprovantes.length > 4;\r\n    };\r\n\r\n    vm.addComprovante = function () {\r\n      if (vm.comprovantes.length < 5) {\r\n        vm.comprovantes.push(angular.copy(comprovanteBase));\r\n      }\r\n      vm.hideButtonComprovante = vm.comprovantes.length > 4;\r\n    };\r\n\r\n    vm.closeModal = function () {\r\n      apiService.setStorage('comprovanteCodigos', vm.comprovantes);\r\n      vm.comprovantes = [\r\n        angular.copy(comprovanteBase)\r\n      ];\r\n      root.foto = false;\r\n      vm.confirmFoto = false;\r\n      root.$broadcast('confirmarImg');\r\n    };\r\n\r\n    vm.okFoto = function () {\r\n      vm.confirmFoto = true;\r\n    };\r\n\r\n    vm.notOkFoto = function () {\r\n      vm.confirmFoto = false;\r\n    };\r\n\r\n    vm.patOpts = {\r\n      x: 0,\r\n      y: 0,\r\n      w: 600,\r\n      h: 540\r\n    };\r\n\r\n    vm.channel = {};\r\n\r\n    vm.onError = function (err) {\r\n      console.log(err);\r\n    };\r\n\r\n    vm.onSuccess = function () {\r\n      _video = vm.channel.video;\r\n      vm.$apply(function () {\r\n        vm.patOpts.w = _video.width;\r\n        vm.patOpts.h = _video.height;\r\n      });\r\n    };\r\n\r\n    vm.makeSnapshot = function () {\r\n      if (_video) {\r\n        var patCanvas = document.querySelector('#snapshot');\r\n        if (!patCanvas) return;\r\n        var ctxPat = patCanvas.getContext('2d');\r\n\r\n        var idata = getVideoData(vm.patOpts.x, vm.patOpts.y, vm.patOpts.w, vm.patOpts.h);\r\n        ctxPat.putImageData(idata, 0, 0);\r\n\r\n        vm.confirmFoto = true;\r\n\r\n        vm.imgResponse = patCanvas.toDataURL();\r\n        apiService.setStorage('comprovante', vm.imgResponse);\r\n      }\r\n    };\r\n\r\n    var getVideoData = function getVideoData(x, y, w, h) {\r\n      var hiddenCanvas = document.createElement('canvas');\r\n\r\n      hiddenCanvas.width = _video.width;\r\n      hiddenCanvas.height = _video.height;\r\n      var ctx = hiddenCanvas.getContext('2d');\r\n      ctx.drawImage(_video, 0, 0, _video.width, _video.height);\r\n      return ctx.getImageData(x, y, w, h);\r\n    };\r\n  }\r\n\r\n})\r\n(angular);","(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('cadastroController', cadastroController);\r\n\r\n  cadastroController.$inject = ['$scope', '$rootScope', 'apiService', 'latinizeService', '$filter', '$state'];\r\n\r\n  function cadastroController($scope, $rootScope, apiService, latinizeService, $filter, $state) {\r\n    var vm = $scope;\r\n    var root = $rootScope;\r\n\r\n    var enviarParaSalvar = {\r\n      \"id\": null,\r\n      \"documento\": null,\r\n      \"nome\": null,\r\n      \"telefone\": null,\r\n      \"celular\": null,\r\n      \"enderecos\": [],\r\n    };\r\n\r\n    vm.dados = {};\r\n    vm.dados.enderecoCerto = true;\r\n    vm.dados.sexo = \"M\";\r\n    vm.dados.outro = {};\r\n\r\n    vm.estados = cidadesEstados.estados.map(function (obj) {\r\n      return {\r\n        \"sigla\": obj.sigla,\r\n        \"nome\": obj.nome\r\n      };\r\n    });\r\n\r\n    //region Procura Cidades\r\n    vm.$watch(function ($scope) {\r\n      return $scope.dados.uf;\r\n    }, function (nVal) {\r\n      if (nVal) {\r\n        vm.procuraCidades(nVal);\r\n      }\r\n    });\r\n\r\n    vm.procuraCidades = function (uf) {\r\n      vm.cidades = cidadesEstados.estados.filter(function (obj) {\r\n        return obj.sigla === uf.sigla;\r\n      })[0].cidades.map(function (obj) {\r\n        return {\r\n          \"nome\": obj,\r\n          \"cidade\": latinizeService.latinize(obj.toUpperCase())\r\n        };\r\n      });\r\n\r\n      root.$broadcast('cidadeLoaded');\r\n    };\r\n\r\n    vm.$watch(function ($scope) {\r\n      return $scope.dados.outro.uf;\r\n    }, function (nVal) {\r\n      if (nVal) {\r\n        vm.procuraCidadesOutro(nVal);\r\n      }\r\n    });\r\n\r\n    vm.procuraCidadesOutro = function (uf) {\r\n      vm.cidadesOutro = cidadesEstados.estados.filter(function (obj) {\r\n        return obj.sigla === uf.sigla;\r\n      })[0].cidades.map(function (obj) {\r\n        return {\r\n          \"nome\": obj,\r\n          \"cidade\": latinizeService.latinize(obj.toUpperCase())\r\n        };\r\n      });\r\n\r\n      root.$broadcast('cidadeLoadedOutro');\r\n    };\r\n    //endregion\r\n\r\n    //region Carregar Cidades\r\n    vm.$on('cidadeLoaded', function () {\r\n      if (vm.dados.cidadeTemp) {\r\n        var temp = $filter('filter')(vm.cidades, {'cidade': latinizeService.latinize(vm.dados.cidadeTemp).toUpperCase()}, true);\r\n        vm.dados.cidade = temp && temp[0] ? temp[0] : {};\r\n        delete vm.dados.cidadeTemp;\r\n      }\r\n    });\r\n\r\n    vm.$on('cidadeLoadedOutro', function () {\r\n      if (vm.dados.outro.cidadeTempOutro) {\r\n        var tempOutro = $filter('filter')(vm.cidadesOutro, {'cidade': latinizeService.latinize(vm.dados.outro.cidadeTempOutro).toUpperCase()}, true);\r\n        vm.dados.outro.cidade = tempOutro && tempOutro[0] ? tempOutro[0] : {};\r\n        delete vm.dados.outro.cidadeTempOutro;\r\n      }\r\n    });\r\n    //endregion\r\n\r\n    vm.procurarCliente = function (cpf) {\r\n      if (!cpf || cpf.length < 11) {\r\n        return;\r\n      }\r\n\r\n      apiService\r\n        .procurar('clientes', cpf)\r\n        .then(function (res) {\r\n          vm.dados.documento = res.result.documento;\r\n          vm.dados.nome = res.result.nome;\r\n          vm.dados.telefone = res.result.telefone;\r\n          vm.dados.celular = res.result.celular;\r\n          vm.dados.id = res.result.id;\r\n          vm.dados.sexo = res.result.sexo;\r\n          vm.dados.email = res.result.email;\r\n\r\n          if (res.result.enderecos.length == 1) {\r\n            vm.dados.enderecoCerto = true;\r\n            vm.dados.cep = res.result.enderecos[0].cep;\r\n            vm.dados.numero = res.result.enderecos[0].numero;\r\n            vm.dados.endereco = res.result.enderecos[0].endereco;\r\n            vm.dados.bairro = res.result.enderecos[0].bairro;\r\n            vm.dados.uf = $filter('filter')(vm.estados, {'sigla': res.result.enderecos[0].uf.toUpperCase()}, true)[0];\r\n            vm.dados.cidadeTemp = res.result.enderecos[0].cidade;\r\n          } else {\r\n            vm.dados.enderecoCerto = false;\r\n            res.result.enderecos.map(function (obj) {\r\n              if (obj.enderecooriginal == 1) {\r\n                vm.dados.outro.cep = obj.cep;\r\n                vm.dados.outro.numero = obj.numero;\r\n                vm.dados.outro.endereco = obj.endereco;\r\n                vm.dados.outro.bairro = obj.bairro;\r\n                vm.dados.outro.uf = $filter('filter')(vm.estados, {'sigla': obj.uf.toUpperCase()}, true)[0];\r\n                vm.dados.outro.cidadeTempOutro = obj.cidade;\r\n              } else {\r\n                vm.dados.cep = obj.cep;\r\n                vm.dados.numero = obj.numero;\r\n                vm.dados.endereco = obj.endereco;\r\n                vm.dados.bairro = obj.bairro;\r\n                vm.dados.uf = $filter('filter')(vm.estados, {'sigla': obj.uf.toUpperCase()}, true)[0];\r\n                vm.dados.cidadeTemp = obj.cidade;\r\n              }\r\n            });\r\n          }\r\n\r\n        }, function (err) {\r\n//          console.log(err);\r\n        });\r\n    };\r\n\r\n    vm.salvarDados = function () {\r\n      var enviar = angular.copy(vm.dados);\r\n      enviarParaSalvar.enderecos = [];\r\n\r\n      enviarParaSalvar.id = enviar.id;\r\n      enviarParaSalvar.documento = enviar.documento;\r\n      enviarParaSalvar.nome = enviar.nome;\r\n      enviarParaSalvar.telefone = enviar.telefone;\r\n      enviarParaSalvar.celular = enviar.celular;\r\n      enviarParaSalvar.email = enviar.email;\r\n      enviarParaSalvar.sexo = enviar.sexo;\r\n\r\n      var endereco1 = {\r\n        \"cep\": enviar.cep,\r\n        \"endereco\": enviar.endereco,\r\n        \"numero\": enviar.numero,\r\n        \"bairro\": enviar.bairro,\r\n        \"uf\": enviar.uf.sigla,\r\n        \"cidade\": enviar.cidade.nome,\r\n        \"enderecoOriginal\": enviar.enderecoCerto\r\n      };\r\n      enviarParaSalvar.enderecos.push(endereco1);\r\n\r\n      if (!enviar.enderecoCerto) {\r\n        var endereco2 = {\r\n          \"cep\": enviar.outro.cep,\r\n          \"endereco\": enviar.outro.endereco,\r\n          \"numero\": enviar.outro.numero,\r\n          \"bairro\": enviar.outro.bairro,\r\n          \"uf\": enviar.outro.uf.sigla,\r\n          \"cidade\": enviar.outro.cidade.nome,\r\n          \"enderecoOriginal\": !enviar.enderecoCerto\r\n        };\r\n        enviarParaSalvar.enderecos.push(endereco2);\r\n      }\r\n\r\n      apiService.post('clientes/save', enviarParaSalvar).then(function (res) {\r\n        apiService.setStorage('cliente', res.result);\r\n        $state.go('pagamento');\r\n      }, function (err) {\r\n//        console.log(err);\r\n      })\r\n    };\r\n\r\n    var limpaEndereco = function () {\r\n      vm.dados.endereco = \"\";\r\n      vm.dados.bairro = \"\";\r\n      vm.dados.uf = \"\";\r\n      delete vm.dados.cidadeTemp;\r\n    };\r\n\r\n    var limpaOutroEndereco = function () {\r\n      vm.dados.outro.endereco = \"\";\r\n      vm.dados.outro.bairro = \"\";\r\n      vm.dados.outro.uf = \"\";\r\n      delete vm.dados.outro.cidadeTempOutro;\r\n    };\r\n\r\n    vm.procuraCep = function (cep) {\r\n      apiService.cep(cep).then(function (res) {\r\n        limpaEndereco();\r\n        vm.dados.endereco = res.logradouro;\r\n        vm.dados.bairro = res.bairro;\r\n        vm.dados.uf = $filter('filter')(vm.estados, {'sigla': res.uf}, true)[0];\r\n        vm.dados.cidadeTemp = res.localidade;\r\n      });\r\n    };\r\n\r\n    vm.procuraOutroCep = function (cep) {\r\n      apiService.cep(cep).then(function (res) {\r\n        limpaOutroEndereco();\r\n        vm.dados.outro.endereco = res.logradouro;\r\n        vm.dados.outro.bairro = res.bairro;\r\n        vm.dados.outro.uf = $filter('filter')(vm.estados, {'sigla': res.uf}, true)[0];\r\n        vm.dados.outro.cidadeTempOutro = res.localidade;\r\n      });\r\n    };\r\n  }\r\n})\r\n(angular);"]}