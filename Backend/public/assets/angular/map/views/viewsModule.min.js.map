{"version":3,"sources":["views/Controllers/loginController.js","views/Controllers/homeController.js","views/Controllers/carrinhoController.js","views/Controllers/fotoController.js","views/Controllers/cadastroController.js"],"names":["angular","loginController","$scope","$rootScope","apiService","$state","root","login","dados","token","then","res","email","user","setStorage","config","alert","getStorage","post","result","configGeral","send","id","tema","temaSalvar","banner","produto_id","listaPreco","cor","empresa","$broadcast","go","err","module","controller","$inject","homeController","carrinhoController","$timeout","vm","totalProdutosFrete","totalProdutos","cep","show","listaCompras","calcTotal","reduce","previousValue","obj","preco","qnt","copy","removerItem","item","filter","filtro","codigobarras","calcTotalItem","length","minus","helperCarrinho","more","carrinho","map","push","limparCarrinho","delStorage","itensCarrinho","calcularFrete","local","uf","localidade","parseInt","peso","carry","next","parseFloat","getFrete","valor","prazo","fotoController","_video","closeModal","foto","confirmFoto","okFoto","notOkFoto","patOpts","x","y","w","h","channel","onError","console","log","onSuccess","video","$apply","width","height","makeSnapshot","patCanvas","document","querySelector","ctxPat","getContext","idata","getVideoData","putImageData","imgResponse","toDataURL","hiddenCanvas","createElement","ctx","drawImage","getImageData","cadastroController","latinizeService","$filter","enviarParaSalvar","documento","nome","telefone","celular","enderecos","enderecoCerto","sexo","outro","estados","cidadesEstados","sigla","$watch","nVal","procuraCidades","cidades","cidade","latinize","toUpperCase","procuraCidadesOutro","cidadesOutro","$on","cidadeTemp","temp","cidadeTempOutro","tempOutro","procurarCliente","cpf","procurar","numero","endereco","bairro","enderecooriginal","salvarDados","enviar","endereco1","enderecoOriginal","endereco2","limpaEndereco","limpaOutroEndereco","procuraCep","logradouro","procuraOutroCep","produtosController","$stateParams","categoria","maxParcelas","temaStorage","max_parcelas","menuActive","loading","categorias","produtoActive","descricao","produtos","categoriasItem","itensDoFiltro","codigocategoria","itens","precopromocao","comJuros","toFixed","produtoController","produtosRelacionados","produto","temasItem","get","imagemGrande","imagens","semJuros","parcela0","produtocodigo","codigoproduto","error","selectColor","cores","selected","changeImg","addCarrinho","pagamentoController","dadosVendedor","formaPagamento","editarPagamentoFlag","cliente","formaPagamentoStorage","comprovante","frete","totalCarrinho","totalCarrinhoFrete","idPedido","nr","n","str","Array","String","join","replace","validarVendedor","identificacao","senha","openFoto","limparSessao","editarPagamento","total","auth","idcliente","totalSemJuros","img","parcelas","aVista","comJurosAVista","listaPagamentos","index","i","pagamento","categoriaController"],"mappings":"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","file":"../../views/viewsModule.min.js","sourcesContent":["(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('loginController', loginController);\r\n\r\n  loginController.$inject = ['$scope', '$rootScope', 'apiService', '$state'];\r\n\r\n  function loginController($scope, $rootScope, apiService, $state) {\r\n    var vm = $scope;\r\n    var root = $rootScope;\r\n\r\n    vm.login = function (dados) {\r\n      apiService\r\n        .token(dados)\r\n        .then(function (res) {\r\n          res.email = dados.user;\r\n          apiService.setStorage('auth', res);\r\n          config(dados.user);\r\n        }, function () {\r\n          alert('Usuário ou senha inválidos.')\r\n        });\r\n    };\r\n\r\n    var config = function (email) {\r\n      if (!apiService.getStorage('auth')) {\r\n        config();\r\n        return;\r\n      }\r\n\r\n      var dados = {\r\n        \"email\": email\r\n      };\r\n\r\n      apiService\r\n        .post('config', dados)\r\n        .then(function (res) {\r\n          apiService.setStorage('tema', res.result);\r\n          configGeral();\r\n        }, function () {\r\n          configGeral();\r\n        });\r\n    };\r\n    var configGeral = function () {\r\n      var send = {\r\n        id: 1\r\n      };\r\n\r\n      apiService\r\n        .post('config', send)\r\n        .then(function (res) {\r\n          var tema = apiService.getStorage('tema');\r\n          if (!tema) {\r\n            tema = {};\r\n          }\r\n\r\n          var temaSalvar = res.result;\r\n          temaSalvar.banner = tema ? tema.banner : null;\r\n          temaSalvar.produto_id = tema ? tema.produto_id : null;\r\n          temaSalvar.listaPreco = tema ? tema.listaPreco : null;\r\n          temaSalvar.cor = tema ? tema.cor : null;\r\n          temaSalvar.empresa = tema ? tema.empresa : null;\r\n\r\n          apiService.setStorage('tema', temaSalvar);\r\n          root.$broadcast('temaLoaded');\r\n          $state.go('home');\r\n        }, function (err) {\r\n        });\r\n\r\n    };\r\n  }\r\n\r\n})\r\n(angular);","(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('homeController', homeController);\r\n\r\n  homeController.$inject = [];\r\n\r\n  function homeController() {\r\n\r\n  }\r\n\r\n})\r\n(angular);","(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('carrinhoController', carrinhoController);\r\n\r\n  carrinhoController.$inject = ['$scope', '$rootScope', 'apiService', '$timeout'];\r\n\r\n  function carrinhoController($scope, $rootScope, apiService, $timeout) {\r\n    var vm = $scope;\r\n    var root = $rootScope;\r\n\r\n    vm.totalProdutosFrete = 0;\r\n    vm.totalProdutos = 0;\r\n    vm.cep = \"\";\r\n\r\n    vm.result = {\r\n      \"show\": false\r\n    };\r\n\r\n    vm.listaCompras = apiService.getStorage('carrinho') || [];\r\n\r\n    //region Carrinho\r\n    var calcTotal = function () {\r\n      vm.totalProdutos = vm.listaCompras.reduce(function (previousValue, obj) {\r\n        return previousValue + (obj.preco * obj.qnt);\r\n      }, 0);\r\n\r\n      if (vm.result.show) {\r\n        vm.totalProdutosFrete = angular.copy(vm.totalProdutos);\r\n        vm.result.show = false;\r\n      } else {\r\n        vm.totalProdutosFrete = angular.copy(vm.totalProdutos);\r\n      }\r\n\r\n    };\r\n\r\n    vm.removerItem = function (item) {\r\n      vm.listaCompras = vm.listaCompras.filter(function (filtro) {\r\n        return filtro.codigobarras != item.codigobarras;\r\n      });\r\n\r\n      apiService.setStorage('carrinho', vm.listaCompras);\r\n\r\n      calcTotal();\r\n    };\r\n\r\n    vm.calcTotalItem = function (item) {\r\n      if (item.qnt.length === 0 || item.qnt === 0) {\r\n        item.qnt = 0;\r\n\r\n        vm.removerItem(item)\r\n      }\r\n\r\n      calcTotal();\r\n    };\r\n\r\n    vm.minus = function (item) {\r\n      if (item.qnt - 1 < 0) {\r\n        item.qnt = 0;\r\n      } else {\r\n        item.qnt -= 1;\r\n      }\r\n\r\n      if (item.qnt == 0) {\r\n        $timeout(function () { vm.removerItem(item); });\r\n      }\r\n\r\n      helperCarrinho(item, item.qnt);\r\n\r\n      calcTotal();\r\n    };\r\n\r\n    vm.more = function (item) {\r\n      item.qnt += 1;\r\n      helperCarrinho(item, item.qnt);\r\n      calcTotal();\r\n    };\r\n\r\n    var helperCarrinho = function (item, qnt) {\r\n      var exist = vm.listaCompras.filter(function (obj) {\r\n        return obj.codigobarras == item.codigobarras;\r\n      });\r\n\r\n      if (exist.length > 0) {\r\n        vm.carrinho = vm.listaCompras.map(function (obj) {\r\n          if (obj.codigobarras) {\r\n            obj.qnt = qnt;\r\n          }\r\n          return obj;\r\n        });\r\n        apiService.setStorage('carrinho', vm.listaCompras);\r\n      } else {\r\n        item.qnt = qnt;\r\n        vm.listaCompras.push(item);\r\n        apiService.setStorage('carrinho', vm.listaCompras);\r\n      }\r\n    };\r\n\r\n    vm.limparCarrinho = function () {\r\n      apiService.delStorage('carrinho');\r\n      root.itensCarrinho = 0;\r\n      vm.listaCompras = [];\r\n      calcTotal();\r\n    };\r\n    //endregion\r\n\r\n    vm.calcularFrete = function () {\r\n      apiService.cep(vm.cep).then(function (res) {\r\n        vm.result.local = res.uf + ' - ' + res.localidade;\r\n\r\n        var dados = {\r\n          \"cep\": parseInt(vm.cep),\r\n          \"peso\": vm.listaCompras.reduce(function (carry, next) {\r\n            return carry + parseFloat(next.peso);\r\n          }, 0)\r\n        };\r\n\r\n        getFrete(dados);\r\n      }, function () {\r\n        alert('CEP não encontrado em nossa base.');\r\n      });\r\n    };\r\n\r\n    var getFrete = function (dados) {\r\n      apiService\r\n        .post('frete', dados)\r\n        .then(function (res) {\r\n          vm.result.valor = res.result.valor;\r\n          vm.result.prazo = res.result.prazo;\r\n          vm.result.show = true;\r\n\r\n          vm.totalProdutosFrete = angular.copy(vm.totalProdutos) + parseFloat(res.result.valor);\r\n        }, function () {\r\n          alert('CEP não encontrado em nossa base.');\r\n        });\r\n    };\r\n\r\n    calcTotal();\r\n  }\r\n\r\n})\r\n(angular);","(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('fotoController', fotoController);\r\n\r\n  fotoController.$inject = ['$scope', '$rootScope', 'apiService'];\r\n\r\n  function fotoController($scope, $rootScope, apiService) {\r\n    var vm = $scope;\r\n    var root = $rootScope;\r\n\r\n    var _video = null;\r\n\r\n    vm.closeModal = function () {\r\n      root.$broadcast('confirmarImg');\r\n      root.foto = false;\r\n      vm.confirmFoto = false;\r\n    };\r\n\r\n    vm.okFoto = function () {\r\n      vm.confirmFoto = true;\r\n    };\r\n\r\n    vm.notOkFoto = function () {\r\n      vm.confirmFoto = false;\r\n    };\r\n\r\n    vm.patOpts = {\r\n      x: 0,\r\n      y: 0,\r\n      w: 425,\r\n      h: 325\r\n    };\r\n\r\n    vm.channel = {};\r\n\r\n    vm.onError = function (err) {\r\n      console.log(err);\r\n    };\r\n\r\n    vm.onSuccess = function () {\r\n      _video = vm.channel.video;\r\n      vm.$apply(function () {\r\n        vm.patOpts.w = _video.width;\r\n        vm.patOpts.h = _video.height;\r\n      });\r\n    };\r\n\r\n    vm.makeSnapshot = function () {\r\n      if (_video) {\r\n        var patCanvas = document.querySelector('#snapshot');\r\n        if (!patCanvas) return;\r\n        var ctxPat = patCanvas.getContext('2d');\r\n\r\n        var idata = getVideoData(vm.patOpts.x, vm.patOpts.y, vm.patOpts.w, vm.patOpts.h);\r\n        ctxPat.putImageData(idata, 0, 0);\r\n\r\n        vm.confirmFoto = true;\r\n\r\n        vm.imgResponse = patCanvas.toDataURL();\r\n        apiService.setStorage('comprovante', vm.imgResponse);\r\n      }\r\n    };\r\n\r\n    var getVideoData = function getVideoData(x, y, w, h) {\r\n      var hiddenCanvas = document.createElement('canvas');\r\n\r\n      hiddenCanvas.width = _video.width;\r\n      hiddenCanvas.height = _video.height;\r\n      var ctx = hiddenCanvas.getContext('2d');\r\n      ctx.drawImage(_video, 0, 0, _video.width, _video.height);\r\n      return ctx.getImageData(x, y, w, h);\r\n    };\r\n  }\r\n\r\n})\r\n(angular);","(function (angular) {\r\n  \"use strict\";\r\n  angular.module('appToten')\r\n         .controller('cadastroController', cadastroController);\r\n\r\n  cadastroController.$inject = ['$scope', '$rootScope', 'apiService', 'latinizeService', '$filter', '$state'];\r\n\r\n  function cadastroController($scope, $rootScope, apiService, latinizeService, $filter, $state) {\r\n    var vm = $scope;\r\n    var root = $rootScope;\r\n\r\n    var enviarParaSalvar = {\r\n      \"id\": null,\r\n      \"documento\": null,\r\n      \"nome\": null,\r\n      \"telefone\": null,\r\n      \"celular\": null,\r\n      \"enderecos\": [],\r\n    };\r\n\r\n    vm.dados = {};\r\n    vm.dados.enderecoCerto = true;\r\n    vm.dados.sexo = \"M\";\r\n    vm.dados.outro = {};\r\n\r\n    vm.estados = cidadesEstados.estados.map(function (obj) {\r\n      return {\r\n        \"sigla\": obj.sigla,\r\n        \"nome\": obj.nome\r\n      };\r\n    });\r\n\r\n    //region Procura Cidades\r\n    vm.$watch(function ($scope) {\r\n      return $scope.dados.uf;\r\n    }, function (nVal) {\r\n      if (nVal) {\r\n        vm.procuraCidades(nVal);\r\n      }\r\n    });\r\n\r\n    vm.procuraCidades = function (uf) {\r\n      vm.cidades = cidadesEstados.estados.filter(function (obj) {\r\n        return obj.sigla === uf.sigla;\r\n      })[0].cidades.map(function (obj) {\r\n        return {\r\n          \"nome\": obj,\r\n          \"cidade\": latinizeService.latinize(obj.toUpperCase())\r\n        };\r\n      });\r\n\r\n      root.$broadcast('cidadeLoaded');\r\n    };\r\n\r\n    vm.$watch(function ($scope) {\r\n      return $scope.dados.outro.uf;\r\n    }, function (nVal) {\r\n      if (nVal) {\r\n        vm.procuraCidadesOutro(nVal);\r\n      }\r\n    });\r\n\r\n    vm.procuraCidadesOutro = function (uf) {\r\n      vm.cidadesOutro = cidadesEstados.estados.filter(function (obj) {\r\n        return obj.sigla === uf.sigla;\r\n      })[0].cidades.map(function (obj) {\r\n        return {\r\n          \"nome\": obj,\r\n          \"cidade\": latinizeService.latinize(obj.toUpperCase())\r\n        };\r\n      });\r\n\r\n      root.$broadcast('cidadeLoadedOutro');\r\n    };\r\n    //endregion\r\n\r\n    //region Carregar Cidades\r\n    vm.$on('cidadeLoaded', function () {\r\n      if (vm.dados.cidadeTemp) {\r\n        var temp = $filter('filter')(vm.cidades, {'cidade': latinizeService.latinize(vm.dados.cidadeTemp).toUpperCase()}, true);\r\n        vm.dados.cidade = temp && temp[0] ? temp[0] : {};\r\n        delete vm.dados.cidadeTemp;\r\n      }\r\n    });\r\n\r\n    vm.$on('cidadeLoadedOutro', function () {\r\n      if (vm.dados.outro.cidadeTempOutro) {\r\n        var tempOutro = $filter('filter')(vm.cidadesOutro, {'cidade': latinizeService.latinize(vm.dados.outro.cidadeTempOutro).toUpperCase()}, true);\r\n        vm.dados.outro.cidade = tempOutro && tempOutro[0] ? tempOutro[0] : {};\r\n        delete vm.dados.outro.cidadeTempOutro;\r\n      }\r\n    });\r\n    //endregion\r\n\r\n    vm.procurarCliente = function (cpf) {\r\n      if (!cpf || cpf.length < 11) {\r\n        return;\r\n      }\r\n\r\n      apiService\r\n        .procurar('clientes', cpf)\r\n        .then(function (res) {\r\n          vm.dados.documento = res.result.documento;\r\n          vm.dados.nome = res.result.nome;\r\n          vm.dados.telefone = res.result.telefone;\r\n          vm.dados.celular = res.result.celular;\r\n          vm.dados.id = res.result.id;\r\n          vm.dados.sexo = res.result.sexo;\r\n          vm.dados.email = res.result.email;\r\n\r\n          if (res.result.enderecos.length == 1) {\r\n            vm.dados.enderecoCerto = true;\r\n            vm.dados.cep = res.result.enderecos[0].cep;\r\n            vm.dados.numero = res.result.enderecos[0].numero;\r\n            vm.dados.endereco = res.result.enderecos[0].endereco;\r\n            vm.dados.bairro = res.result.enderecos[0].bairro;\r\n            vm.dados.uf = $filter('filter')(vm.estados, {'sigla': res.result.enderecos[0].uf.toUpperCase()}, true)[0];\r\n            vm.dados.cidadeTemp = res.result.enderecos[0].cidade;\r\n          } else {\r\n            vm.dados.enderecoCerto = false;\r\n            res.result.enderecos.map(function (obj) {\r\n              if (obj.enderecooriginal == 1) {\r\n                vm.dados.outro.cep = obj.cep;\r\n                vm.dados.outro.numero = obj.numero;\r\n                vm.dados.outro.endereco = obj.endereco;\r\n                vm.dados.outro.bairro = obj.bairro;\r\n                vm.dados.outro.uf = $filter('filter')(vm.estados, {'sigla': obj.uf.toUpperCase()}, true)[0];\r\n                vm.dados.outro.cidadeTempOutro = obj.cidade;\r\n              } else {\r\n                vm.dados.cep = obj.cep;\r\n                vm.dados.numero = obj.numero;\r\n                vm.dados.endereco = obj.endereco;\r\n                vm.dados.bairro = obj.bairro;\r\n                vm.dados.uf = $filter('filter')(vm.estados, {'sigla': obj.uf.toUpperCase()}, true)[0];\r\n                vm.dados.cidadeTemp = obj.cidade;\r\n              }\r\n            });\r\n          }\r\n\r\n        }, function (err) {\r\n//          console.log(err);\r\n        });\r\n    };\r\n\r\n    vm.salvarDados = function () {\r\n      var enviar = angular.copy(vm.dados);\r\n      enviarParaSalvar.enderecos = [];\r\n\r\n      enviarParaSalvar.id = enviar.id;\r\n      enviarParaSalvar.documento = enviar.documento;\r\n      enviarParaSalvar.nome = enviar.nome;\r\n      enviarParaSalvar.telefone = enviar.telefone;\r\n      enviarParaSalvar.celular = enviar.celular;\r\n      enviarParaSalvar.email = enviar.email;\r\n      enviarParaSalvar.sexo = enviar.sexo;\r\n\r\n      var endereco1 = {\r\n        \"cep\": enviar.cep,\r\n        \"endereco\": enviar.endereco,\r\n        \"numero\": enviar.numero,\r\n        \"bairro\": enviar.bairro,\r\n        \"uf\": enviar.uf.sigla,\r\n        \"cidade\": enviar.cidade.nome,\r\n        \"enderecoOriginal\": enviar.enderecoCerto\r\n      };\r\n      enviarParaSalvar.enderecos.push(endereco1);\r\n\r\n      if (!enviar.enderecoCerto) {\r\n        var endereco2 = {\r\n          \"cep\": enviar.outro.cep,\r\n          \"endereco\": enviar.outro.endereco,\r\n          \"numero\": enviar.outro.numero,\r\n          \"bairro\": enviar.outro.bairro,\r\n          \"uf\": enviar.outro.uf.sigla,\r\n          \"cidade\": enviar.outro.cidade.nome,\r\n          \"enderecoOriginal\": !enviar.enderecoCerto\r\n        };\r\n        enviarParaSalvar.enderecos.push(endereco2);\r\n      }\r\n\r\n      apiService.post('clientes/save', enviarParaSalvar).then(function (res) {\r\n        apiService.setStorage('cliente', res.result);\r\n        $state.go('pagamento');\r\n      }, function (err) {\r\n//        console.log(err);\r\n      })\r\n    };\r\n\r\n    var limpaEndereco = function () {\r\n      vm.dados.endereco = \"\";\r\n      vm.dados.bairro = \"\";\r\n      vm.dados.uf = \"\";\r\n      delete vm.dados.cidadeTemp;\r\n    };\r\n\r\n    var limpaOutroEndereco = function () {\r\n      vm.dados.outro.endereco = \"\";\r\n      vm.dados.outro.bairro = \"\";\r\n      vm.dados.outro.uf = \"\";\r\n      delete vm.dados.outro.cidadeTempOutro;\r\n    };\r\n\r\n    vm.procuraCep = function (cep) {\r\n      apiService.cep(cep).then(function (res) {\r\n        limpaEndereco();\r\n        vm.dados.endereco = res.logradouro;\r\n        vm.dados.bairro = res.bairro;\r\n        vm.dados.uf = $filter('filter')(vm.estados, {'sigla': res.uf}, true)[0];\r\n        vm.dados.cidadeTemp = res.localidade;\r\n      });\r\n    };\r\n\r\n    vm.procuraOutroCep = function (cep) {\r\n      apiService.cep(cep).then(function (res) {\r\n        limpaOutroEndereco();\r\n        vm.dados.outro.endereco = res.logradouro;\r\n        vm.dados.outro.bairro = res.bairro;\r\n        vm.dados.outro.uf = $filter('filter')(vm.estados, {'sigla': res.uf}, true)[0];\r\n        vm.dados.outro.cidadeTempOutro = res.localidade;\r\n      });\r\n    };\r\n  }\r\n})\r\n(angular);"]}