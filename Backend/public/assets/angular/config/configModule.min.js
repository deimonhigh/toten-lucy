!function(e){function t(e,t,r){return{request:function(t){var o=r.get("apiService"),a=o.getStorage("auth");return-1===t.url.indexOf(".html")&&t.url.indexOf("api")>-1&&a.access_token&&(t.headers.Authorization="Bearer "+a.access_token),t||e.when(t)},response:function(t){if(401===t.status){return r.get("apiService").clearStorage(),e.reject(t)}return[404,500,400].indexOf(t.status)>-1?e.reject(t):t||e.when(t)}}}e.module("appToten").factory("autenticacaoInterceptor",t),t.$inject=["$q","$state","$injector"]}(angular),function(e){function t(e,t,r){return{responseError:function(o){if(401===o.status){r.get("apiService").clearStorage(),t.go("login")}return e.reject(o)}}}e.module("appToten").factory("errorInterceptor",t),t.$inject=["$q","$state","$injector"]}(angular),function(e){e.module("appToten").config(["$httpProvider",function(e){e.interceptors.push("autenticacaoInterceptor"),e.interceptors.push("errorInterceptor")}])}(angular),angular.module("appToten").constant("config",{baseUrl:"https://lojadalucy.com.br/",apiToken:"https://lojadalucy.com.br/oauth/token",apiUrl:"https://lojadalucy.com.br/api/",baseUrlDev:"http://toten.localhost/",apiTokenDev:"http://toten.localhost/oauth/token",apiUrlDev:"http://toten.localhost/api/",grant_type:"password",client_id:3,client_secret:"aw8AFIdfQ280GTnGjnJGHJGRc6lZpop1Pz3xhOj3",client_secret_dev:"5cXW4MSqOVsqsMmhtCc6oRcNc25bbIeIopYr0biU",scope:"*",dev:!1,prefix:"LHT."}),angular.module("appToten").config(["$provide",function(e){e.decorator("$q",["$delegate",function(e){function t(t){var o,a=new Error;return angular.forEach(t,function(t,n){var l,i=t.success||t,c=t.fail,s=t.notify;if(o)l=o.then(function(e){if(!i)return e;var t=i(e);if(!r(t))throw a.message="Task "+n+" did not return a promise.",a;return t},function(t){if(!c)return e.reject(t);var o=c(t);if(!r(o))throw a.message="Fail for task "+n+" did not return a promise.",a;return o},s);else if(l=i(),!r(l))throw a.message="Task "+n+" did not return a promise.",a;o=l}),o||e.when()}var r=function(e){return e&&angular.isFunction(e.then)};return e.serial=t,e}])}]),function(){"use strict";function e(e,t,r,o){o.includeSpinner=!1,r.setPrefix("appToten").setStorageType("sessionStorage"),t.otherwise("/"),e.state("erro",{url:"/404",templateUrl:"./views/404.html"}).state("home",{url:"/home",templateUrl:"./views/home.html",resolve:{deleteStorage:["apiService","$timeout","$rootScope",function(e,t,r){e.delStorage("comprovante"),e.delStorage("cliente"),e.delStorage("carrinho"),e.delStorage("formaPagamento"),e.delStorage("comprovanteCodigos"),e.delStorage("vendedor"),e.delStorage("frete"),e.delStorage("boleto"),t(function(){r.itensCarrinho=0})}]}}).state("login",{url:"/",templateUrl:"./views/login.html",controller:"loginController"}).state("categorias",{url:"/categorias",templateUrl:"./views/categorias.html",controller:"categoriaController"}).state("carrinho",{url:"/meuCarrinho",templateUrl:"./views/carrinho.html",controller:"carrinhoController"}).state("cadastro",{url:"/cadastro",templateUrl:"./views/cadastro.html",controller:"cadastroController"}).state("produtos",{url:"/produtos/:categoria",templateUrl:"./views/produtos.html",controller:"produtosController"}).state("produto",{url:"/produto/:id",templateUrl:"./views/produto.html",controller:"produtoController"}).state("pagamento",{url:"/pagamento",templateUrl:"./views/pagamento.html",controller:"pagamentoController"}).state("pagamentoMP",{url:"/pagamento/mp",templateUrl:"./views/pagamento_mp.html",controller:"pagamentoMpController"}).state("finalizacao",{url:"/finalizacao",templateUrl:"./views/finalizacao.html",controller:"finalizacaoController"})}angular.module("appToten").config(e),e.$inject=["$stateProvider","$urlRouterProvider","localStorageServiceProvider","cfpLoadingBarProvider"]}(angular);