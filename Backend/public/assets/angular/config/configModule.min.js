function loadingInterceptor(t,r){var e=0;return{request:function(o){return 1==++e&&r.$broadcast("loading:progress"),o||t.when(o)},response:function(o){return 0==--e&&r.$broadcast("loading:finish"),o||t.when(o)},responseError:function(o){return 0==--e&&r.$broadcast("loading:finish"),t.reject(o)}}}angular.module("appToten").factory("loadingInterceptor",loadingInterceptor),loadingInterceptor.$inject=["$q","$rootScope"],angular.module("appToten").factory("autenticacaoInterceptor",["localStorageService","config","base64Factory","$location",function(t,r,e,o){return{request:function(r){try{var o=t.get("auth");if(null==o||r.url.indexOf(".html")>-1)throw"Invalid";var a=JSON.parse(e.decode(o));return a&&r.url.indexOf("api")>-1&&-1==r.url.indexOf("oauth")&&(r.headers.Authorization="Bearer "+a.access_token),r}catch(t){if(-1==r.url.indexOf("apigopharma"))return r}}}}]),function(t){t.module("appToten").config(["$httpProvider",function(t){t.interceptors.push("autenticacaoInterceptor"),t.interceptors.push("loadingInterceptor")}])}(angular),angular.module("appToten").constant("config",{baseUrl:"https://lojadalucy.com.br/",apiToken:"https://lojadalucy.com.br/oauth/token",apiUrl:"https://lojadalucy.com.br/api/",baseUrlDev:"http://toten.localhost/",apiTokenDev:"http://toten.localhost/oauth/token",apiUrlDev:"http://toten.localhost/api/",grant_type:"password",client_id:3,client_secret:"aw8AFIdfQ280GTnGjnJGHJGRc6lZpop1Pz3xhOj3",client_secret_dev:"N8bENBm0tCa2KToFezvaL2Ms8zNw2XNh00VU0fJG",scope:"*",dev:!1}),angular.module("appToten").config(["$provide",function(t){t.decorator("$q",["$delegate",function(t){function r(r){var o,a=new Error;return angular.forEach(r,function(r,n){var l,i=r.success||r,c=r.fail,s=r.notify;if(o)l=o.then(function(t){if(!i)return t;var r=i(t);if(!e(r))throw a.message="Task "+n+" did not return a promise.",a;return r},function(r){if(!c)return t.reject(r);var o=c(r);if(!e(o))throw a.message="Fail for task "+n+" did not return a promise.",a;return o},s);else if(l=i(),!e(l))throw a.message="Task "+n+" did not return a promise.",a;o=l}),o||t.when()}var e=function(t){return t&&angular.isFunction(t.then)};return t.serial=r,t}])}]),function(){"use strict";function t(t,r,e,o){o.includeSpinner=!1,e.setPrefix("appToten").setStorageType("sessionStorage"),r.otherwise("/"),t.state("erro",{url:"/404",templateUrl:"./views/404.html"}).state("home",{url:"/home",templateUrl:"./views/home.html"}).state("login",{url:"/",templateUrl:"./views/login.html",controller:"loginController"}).state("categorias",{url:"/categorias",templateUrl:"./views/categorias.html",controller:"categoriaController"}).state("carrinho",{url:"/meuCarrinho",templateUrl:"./views/carrinho.html",controller:"carrinhoController"}).state("cadastro",{url:"/cadastro",templateUrl:"./views/cadastro.html",controller:"cadastroController"}).state("produtos",{url:"/produtos/:categoria",templateUrl:"./views/produtos.html",controller:"produtosController"}).state("produto",{url:"/produto/:id",templateUrl:"./views/produto.html",controller:"produtoController"}).state("pagamento",{url:"/pagamento",templateUrl:"./views/pagamento.html",controller:"pagamentoController"}).state("finalizacao",{url:"/finalizacao",templateUrl:"./views/finalizacao.html",controller:"pagamentoController"})}angular.module("appToten").config(t),t.$inject=["$stateProvider","$urlRouterProvider","localStorageServiceProvider","cfpLoadingBarProvider"]}(angular);
//# sourceMappingURL=../map/config/configModule.min.js.map
