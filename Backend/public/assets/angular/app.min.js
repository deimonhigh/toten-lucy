!function(){"use strict";function o(o,t,e,a,r,n,i,l){var g=o;g.inicio=!0,g.foto=!1;var c="#FF5B10";g.temaStorage=a.getStorage("tema"),g.temaStorage&&(c=g.temaStorage.cor);var u="header .logo:before, .btn, .categorias article .collumn .destaque .price, .categorias article h2:after, .produtos .filterRight li a:hover, .produtos .filterRight li a.active, header .meuCarrinho .img .notification, #loading-bar .bar, header ul li.active button, .carrinho .total div.cifra, .foto .closeModal{background: DEFAULTCOLOR}.home article h2, .produtos .listagem li .outer .total,.produto .infos .total,.carrinho .tableHolder table tbody tr td .preco,.choiceButton span:after,.cadastro .form-group label.required:after,.pagamento .obrigado h3,.pagamento .blocos ul li,.pagamento .blocos ul li .parcelas b,.pagamento .finalizacao h3,.pagamento .resumoCompra .tableHolder table tbody tr td span strong, .pagamento .resumoCompra .tableHolder table tbody tr td .preco, .pagamento .resumoCompra .tableHolder table tbody tr td:nth-child(1),.pagamento .resumoCompra .total div.number,.pagamento .resumoCompra h2,.pagamento .loginVendedor h3,.pagamento .loginVendedor .formField .input-group-addon {color: DEFAULTCOLOR}.carrinho .total div.field .btn.white, .carrinho .total div.field .number, .carrinho .total div.field ul li b{color:DEFAULTCOLOR}";g.tema=u.replace(/(DEFAULTCOLOR)/g,c),g.$on("temaLoaded",function(){g.temaStorage=a.getStorage("tema"),g.tema=u.replace(/(DEFAULTCOLOR)/g,g.temaStorage.cor)}),g.openFoto=function(){n(function(){g.foto=!0})},g.itensCarrinho=a.getStorage("carrinho")?a.getStorage("carrinho").length:0;var d=function(o){return a.post("config/mercadoPago",{email:o}).then(function(o){if(1===parseInt(o.result.mercado_pago))return i.loadMP().then(function(){i.setAccessKey()}),o.result.mercado_pago})};g.loadConfig=function(o,t){if(!a.getStorage("auth"))return void r.go("login");var e={email:o};a.post("config",e).then(function(e){d(o).then(function(o){e.result.mercado_pago=o||0,a.setStorage("tema",e.result),m(t)})},function(){m(t)})};var m=function(o){var t={id:1};a.post("config",t).then(function(t){var e=a.getStorage("tema");e||(e={});var n=t.result;n.banner=e?e.banner:null,n.produto_id=e?e.produto_id:null,n.listaPreco=e?e.listaPreco:null,n.cor=e?e.cor:null,n.empresa=e?e.empresa:null,n.mercado_pago=e?e.mercado_pago:0,a.setStorage("tema",n),g.$broadcast("temaLoaded"),o&&r.go("home")},function(o){})},s=a.getStorage("auth");s&&g.loadConfig(s.email),g.angularNotLoaded=!0,g.$on("loading:progress",function(){g.loadingData=!0}),g.$on("loading:finish",function(){g.loadingData=!1}),g.trustResource=function(o){return t.trustAsHtml(o)},g.trustUrl=function(o){return t.trustAsResourceUrl(o)},l.onStart({},function(o){var t=o.$to().name,r=a.getStorage("auth"),n=a.getStorage("formasPgMP"),l=a.getStorage("cliente"),g=a.getStorage("carrinho");return e.start(),!n&&i.mp()&&i.getPaymentsMethods().then(function(o){a.setStorage("formasPgMP",o.response)}),"login"===t&&r?o.router.stateService.target("home"):"login"===t||r?(console.log(["finalizacao","pagamento","pagamentoMP"].indexOf(t)>-1),console.log(l),["finalizacao","pagamento","pagamentoMP"].indexOf(t)>-1&&!l?o.router.stateService.target("home"):["cadastro"].indexOf(t)>-1&&!g?o.router.stateService.target("home"):void 0):o.router.stateService.target("login")}),l.onSuccess({},function(o){var t=o.$to().name;n(function(){g.itensCarrinho=(a.getStorage("carrinho")||[]).length}),g.inicio=["login","home"].indexOf(t)>-1,e.complete()})}angular.module("appToten",["ui.router","ngLocale","LocalStorageModule","angular-loading-bar","ngAnimate","webcam"]),angular.module("appToten").run(o),o.$inject=["$rootScope","$sce","cfpLoadingBar","apiService","$state","$timeout","mercadoPago","$transitions"]}();
//# sourceMappingURL=map/app.min.js.map
